\doxysection{Control\+Modes Class Reference}
\label{classControlModes}\index{ControlModes@{ControlModes}}


The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct.  




{\ttfamily \#include $<$Control\+Modes.\+h$>$}



Inherits yarp\+::robottestingframework\+::\+Test\+Case.

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classControlModes_a906098cdeee49ee608ec27e14d17fe4a}} 
virtual bool {\bfseries setup} (yarp\+::os\+::\+Property \&property)
\item 
\mbox{\label{classControlModes_a96e49aa347dc1a743e5f506672f72dc5}} 
virtual void {\bfseries tear\+Down} ()
\item 
\mbox{\label{classControlModes_ae438acaf6677471f962d3d6eec430b52}} 
virtual void {\bfseries run} ()
\item 
\mbox{\label{classControlModes_aba99419a0f329ef8db34b3247c9e8461}} 
void {\bfseries go\+Home} ()
\item 
\mbox{\label{classControlModes_a499fb7c42dc501895e41fb8e7922f3fb}} 
void {\bfseries execute\+Cmd} ()
\item 
\mbox{\label{classControlModes_a2db54b3f482b49317a73caffba85fe98}} 
void {\bfseries set\+Mode} (int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode)
\item 
\mbox{\label{classControlModes_a0fd65934486cb3b04051457157588da0}} 
void {\bfseries verify\+Mode} (int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode, std\+::string title)
\item 
\mbox{\label{classControlModes_a8a5254839c70e03ba027506e84ccde96}} 
void {\bfseries verify\+Amplifier} (int desired\+\_\+amplifier\+\_\+mode, std\+::string title)
\item 
\mbox{\label{classControlModes_af8d034ed81bad265bef55868c93dccbb}} 
void {\bfseries zero\+Current\+Limits} ()
\item 
\mbox{\label{classControlModes_a07b40de5590b6de6465275f120cc0278}} 
void {\bfseries get\+Original\+Current\+Limits} ()
\item 
\mbox{\label{classControlModes_a4829a8e1d1d0a9bc97d6f99a39f200fb}} 
void {\bfseries reset\+Original\+Current\+Limits} ()
\item 
\mbox{\label{classControlModes_a2f143308636985ca5e9b54886d88ab37}} 
void {\bfseries verify\+Mode\+Single} (int joint, int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode, std\+::string title)
\item 
\mbox{\label{classControlModes_af9a2fe5d8cdeba9c6a4c6419b7e10c26}} 
void {\bfseries set\+Mode\+Single} (int joint, int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode)
\item 
\mbox{\label{classControlModes_a5a886c22a344441ff40d7223b1a9b7aa}} 
void {\bfseries check\+Joint\+With\+Torque\+Mode} ()
\item 
\mbox{\label{classControlModes_a7711d4bf20776b36e5707d04d7919250}} 
void {\bfseries check\+Control\+Mode\+With\+Im\+Compliant} (int desired\+\_\+control\+\_\+mode, std\+::string title)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct. 

The following control modes are test\+: VOCAB\+\_\+\+CM\+\_\+\+POSITION, VOCAB\+\_\+\+CM\+\_\+\+POSITION\+\_\+\+DIRECT, VOCAB\+\_\+\+CM\+\_\+\+VELOCITY, VOCAB\+\_\+\+CM\+\_\+\+MIXED, VOCAB\+\_\+\+CM\+\_\+\+PWM, VOCAB\+\_\+\+CM\+\_\+\+IDLE, VOCAB\+\_\+\+CM\+\_\+\+FORCE\+\_\+\+IDLE, VOCAB\+\_\+\+HW\+\_\+\+FAULT. The following interaction modes are tested\+: VOCAB\+\_\+\+IM\+\_\+\+STIFF, VOCAB\+\_\+\+IM\+\_\+\+COMPLIANT. For some modes (VOCAB\+\_\+\+CM\+\_\+\+TORQUE, VOCAB\+\_\+\+IM\+\_\+\+COMPLIANT) the test asks to robot\+Interface if the joint capabilities, skipping the test if those modes are not implemented. The test intentionally generates an hardware fault to test the transition between VOCAB\+\_\+\+CM\+\_\+\+HW\+\_\+\+FAULT to VOCAB\+\_\+\+CM\+\_\+\+IDLE. The fault is generated by zeroing the max current limit. Check of the amplifier internal status (i\+Amplifier-\/$>$get\+Amp\+Status) has to be implemented yet.

Example\+: test\+Runner -\/v -\/t Control\+Modes.\+dll -\/p \char`\"{}-\/-\/robot icub -\/-\/part head -\/-\/joints \char`\"{}\char`\"{}(0 1 2 3 4 5)\char`\"{}\char`\"{} -\/-\/zero 0\char`\"{}

Check the following functions\+: \begin{DoxyItemize}
\item IControl\+Mode\+::get\+Control\+Mode()/set\+Control\+Mode() \item IInteraction\+Mode\+::get\+Interaction\+Mode()/set\+Interaction\+Mode()\end{DoxyItemize}
Accepts the following parameters\+: \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{7}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Units   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Notes    }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Units   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Required   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Notes    }\\\cline{1-7}
\endhead
\PBS\centering robot   &\PBS\centering string   &\PBS\centering -\/   &\PBS\centering -\/   &\PBS\centering Yes   &\PBS\centering The name of the robot.   &\PBS\centering e.\+g. icub    \\\cline{1-7}
\PBS\centering part   &\PBS\centering string   &\PBS\centering -\/   &\PBS\centering -\/   &\PBS\centering Yes   &\PBS\centering The name of trhe robot part.   &\PBS\centering e.\+g. left\+\_\+arm   \\\cline{1-7}
\end{longtabu}
$\vert$ joints $\vert$ vector of ints $\vert$ -\/ $\vert$ Yes $\vert$ List of joints to be tested. $\vert$ $\vert$ $\vert$ zero $\vert$ double $\vert$ deg $\vert$ -\/ $\vert$ Yes $\vert$ The home position for the tested joints. $\vert$ $\vert$ 

Definition at line 53 of file Control\+Modes.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/icub-\/tests/icub-\/tests/gh-\/pages/src/control\+Modes/Control\+Modes.\+h\item 
/home/runner/work/icub-\/tests/icub-\/tests/gh-\/pages/src/control\+Modes/Control\+Modes.\+cpp\end{DoxyCompactItemize}
