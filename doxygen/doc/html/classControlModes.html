<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>icub-test: ControlModes Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">icub-test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ControlModes Class Reference<div class="ingroups"><a class="el" href="group__icub-tests.html">A list of available tests</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct.  
 <a href="classControlModes.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ControlModes_8h_source.html">ControlModes.h</a>&gt;</code></p>

<p>Inherits yarp::robottestingframework::TestCase.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a906098cdeee49ee608ec27e14d17fe4a"><td class="memItemLeft" align="right" valign="top"><a id="a906098cdeee49ee608ec27e14d17fe4a"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>setup</b> (yarp::os::Property &amp;property)</td></tr>
<tr class="separator:a906098cdeee49ee608ec27e14d17fe4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e49aa347dc1a743e5f506672f72dc5"><td class="memItemLeft" align="right" valign="top"><a id="a96e49aa347dc1a743e5f506672f72dc5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>tearDown</b> ()</td></tr>
<tr class="separator:a96e49aa347dc1a743e5f506672f72dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae438acaf6677471f962d3d6eec430b52"><td class="memItemLeft" align="right" valign="top"><a id="ae438acaf6677471f962d3d6eec430b52"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>run</b> ()</td></tr>
<tr class="separator:ae438acaf6677471f962d3d6eec430b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba99419a0f329ef8db34b3247c9e8461"><td class="memItemLeft" align="right" valign="top"><a id="aba99419a0f329ef8db34b3247c9e8461"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>goHome</b> ()</td></tr>
<tr class="separator:aba99419a0f329ef8db34b3247c9e8461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499fb7c42dc501895e41fb8e7922f3fb"><td class="memItemLeft" align="right" valign="top"><a id="a499fb7c42dc501895e41fb8e7922f3fb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>executeCmd</b> ()</td></tr>
<tr class="separator:a499fb7c42dc501895e41fb8e7922f3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db54b3f482b49317a73caffba85fe98"><td class="memItemLeft" align="right" valign="top"><a id="a2db54b3f482b49317a73caffba85fe98"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setMode</b> (int desired_control_mode, yarp::dev::InteractionModeEnum desired_interaction_mode)</td></tr>
<tr class="separator:a2db54b3f482b49317a73caffba85fe98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd65934486cb3b04051457157588da0"><td class="memItemLeft" align="right" valign="top"><a id="a0fd65934486cb3b04051457157588da0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>verifyMode</b> (int desired_control_mode, yarp::dev::InteractionModeEnum desired_interaction_mode, std::string title)</td></tr>
<tr class="separator:a0fd65934486cb3b04051457157588da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5254839c70e03ba027506e84ccde96"><td class="memItemLeft" align="right" valign="top"><a id="a8a5254839c70e03ba027506e84ccde96"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>verifyAmplifier</b> (int desired_amplifier_mode, std::string title)</td></tr>
<tr class="separator:a8a5254839c70e03ba027506e84ccde96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d034ed81bad265bef55868c93dccbb"><td class="memItemLeft" align="right" valign="top"><a id="af8d034ed81bad265bef55868c93dccbb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>zeroCurrentLimits</b> ()</td></tr>
<tr class="separator:af8d034ed81bad265bef55868c93dccbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b40de5590b6de6465275f120cc0278"><td class="memItemLeft" align="right" valign="top"><a id="a07b40de5590b6de6465275f120cc0278"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>getOriginalCurrentLimits</b> ()</td></tr>
<tr class="separator:a07b40de5590b6de6465275f120cc0278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4829a8e1d1d0a9bc97d6f99a39f200fb"><td class="memItemLeft" align="right" valign="top"><a id="a4829a8e1d1d0a9bc97d6f99a39f200fb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>resetOriginalCurrentLimits</b> ()</td></tr>
<tr class="separator:a4829a8e1d1d0a9bc97d6f99a39f200fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f143308636985ca5e9b54886d88ab37"><td class="memItemLeft" align="right" valign="top"><a id="a2f143308636985ca5e9b54886d88ab37"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>verifyModeSingle</b> (int joint, int desired_control_mode, yarp::dev::InteractionModeEnum desired_interaction_mode, std::string title)</td></tr>
<tr class="separator:a2f143308636985ca5e9b54886d88ab37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a2fe5d8cdeba9c6a4c6419b7e10c26"><td class="memItemLeft" align="right" valign="top"><a id="af9a2fe5d8cdeba9c6a4c6419b7e10c26"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setModeSingle</b> (int joint, int desired_control_mode, yarp::dev::InteractionModeEnum desired_interaction_mode)</td></tr>
<tr class="separator:af9a2fe5d8cdeba9c6a4c6419b7e10c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a886c22a344441ff40d7223b1a9b7aa"><td class="memItemLeft" align="right" valign="top"><a id="a5a886c22a344441ff40d7223b1a9b7aa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkJointWithTorqueMode</b> ()</td></tr>
<tr class="separator:a5a886c22a344441ff40d7223b1a9b7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7711d4bf20776b36e5707d04d7919250"><td class="memItemLeft" align="right" valign="top"><a id="a7711d4bf20776b36e5707d04d7919250"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkControlModeWithImCompliant</b> (int desired_control_mode, std::string title)</td></tr>
<tr class="separator:a7711d4bf20776b36e5707d04d7919250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct. </p>
<p>The following control modes are test: VOCAB_CM_POSITION, VOCAB_CM_POSITION_DIRECT, VOCAB_CM_VELOCITY, VOCAB_CM_MIXED, VOCAB_CM_PWM, VOCAB_CM_IDLE, VOCAB_CM_FORCE_IDLE, VOCAB_HW_FAULT. The following interaction modes are tested: VOCAB_IM_STIFF, VOCAB_IM_COMPLIANT. For some modes (VOCAB_CM_TORQUE, VOCAB_IM_COMPLIANT) the test asks to robotInterface if the joint capabilities, skipping the test if those modes are not implemented. The test intentionally generates an hardware fault to test the transition between VOCAB_CM_HW_FAULT to VOCAB_CM_IDLE. The fault is generated by zeroing the max current limit. Check of the amplifier internal status (iAmplifier-&gt;getAmpStatus) has to be implemented yet.</p>
<p>Example: testRunner -v -t ControlModes.dll -p "--robot icub --part head --joints ""(0 1 2 3 4 5)"" --zero 0"</p>
<p>Check the following functions: </p><ul>
<li>IControlMode::getControlMode()/setControlMode() </li>
<li>IInteractionMode::getInteractionMode()/setInteractionMode()</li>
</ul>
<p>Accepts the following parameters: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Parameter name   </th><th class="markdownTableHeadCenter">Type   </th><th class="markdownTableHeadCenter">Units   </th><th class="markdownTableHeadCenter">Default Value   </th><th class="markdownTableHeadCenter">Required   </th><th class="markdownTableHeadCenter">Description   </th><th class="markdownTableHeadCenter">Notes    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">robot   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">Yes   </td><td class="markdownTableBodyCenter">The name of the robot.   </td><td class="markdownTableBodyCenter">e.g. icub    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">part   </td><td class="markdownTableBodyCenter">string   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">Yes   </td><td class="markdownTableBodyCenter">The name of trhe robot part.   </td><td class="markdownTableBodyCenter">e.g. left_arm   </td></tr>
</table>
<p>| joints | vector of ints | - | Yes | List of joints to be tested. | | | zero | double | deg | - | Yes | The home position for the tested joints. | | </p>

<p class="definition">Definition at line <a class="el" href="ControlModes_8h_source.html#l00053">53</a> of file <a class="el" href="ControlModes_8h_source.html">ControlModes.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/icub-tests/icub-tests/gh-pages/src/controlModes/<a class="el" href="ControlModes_8h_source.html">ControlModes.h</a></li>
<li>/home/runner/work/icub-tests/icub-tests/gh-pages/src/controlModes/<a class="el" href="ControlModes_8cpp_source.html">ControlModes.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
